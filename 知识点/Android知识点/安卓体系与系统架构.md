[TOC]

# 安卓体系与系统架构

## AOSP：

Android Open Source Project：Android开放源码项目，最原始的开源操作系统，可用于厂商定制。

## Makefile机制：

描述Android各个组件的联系并指导他们的源代码进行自动化编译（为他们制定了一系列的规则），指定了各个源代码该如何连接并生成相应的可执行程序。

在Android源代码目录结构中，每个目录底下还会包含更小的目录，而在最小的目录下会有一个makefile文件，就是通过一个个的makefile文件将整个源代码联系在一起。

## NDK开发和SDK开发：

### NDK开发：

目的：在Android应用中调用c/c++函数。由C++开发和JNI开发组成。

需要使用：

1、 编译器（理解源文件（人能看懂的）检查语法错误、理解二进制（机器能看懂的）生成机器码）：以`clang`和`clang++`结尾的（用于编译c++文件）

2、CMake：用于管理项目，可以无缝衔接到Gradle中。

3、 NDK ：Native Development Kit（提供交叉编译功能的工具包）

4、 JNI：将c++编译出的文件使用java语言加载到JVM中。

交叉编译：在一个平台上将代码生成另一个平台可执行对象的技术。

armv7a：编译器生成的文件能运行的目标平台，还有x86_64、arm64等。

